<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Maquettes Jem - Portail de refonte Jemanage</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="container">
            <h1>üé® Maquettes Jem</h1>
            <p>Portail de refonte Jemanage.com</p>
        </div>
    </header>

    <main>
        <div class="container">
            <h2 style="margin-bottom: 2rem; color: var(--bleu-marine);">Th√®mes de refonte</h2>
            
            <div class="themes-grid" id="themesGrid">
                <!-- Les th√®mes seront charg√©s ici par JavaScript -->
            </div>

            <div class="instructions">
                <h3>üìù Comment ajouter une maquette ?</h3>
                <ol style="margin-left: 1.5rem; color: var(--gris-texte); line-height: 2;">
                    <li>Place ton fichier HTML dans le dossier <code>maquettes/[theme]/</code></li>
                    <li>Ouvre le fichier <code>data.json</code></li>
                    <li>Ajoute ta maquette dans le tableau "maquettes" du th√®me correspondant</li>
                    <li>Commit et push sur GitHub</li>
                </ol>
                
                <p style="margin-top: 1rem; color: var(--gris-texte);">
                    <strong>Exemple de structure dans data.json :</strong>
                </p>
                <pre style="background-color: var(--gris-clair); padding: 1rem; border-radius: 6px; overflow-x: auto; font-size: 0.85rem;">
{
  "id": "ma-maquette-1",
  "nom": "Dashboard Manager v1",
  "fichier": "maquettes/equipe/dashboard-v1.html",
  "images": ["maquettes/equipe/screenshot1.png"],
  "date": "2026-01-29",
  "commentaires": [
    {
      "date": "2026-01-29",
      "texte": "Premi√®re version du dashboard"
    }
  ]
}</pre>
            </div>
        </div>
    </main>

    <script>
        // Charger les donn√©es
        fetch('data.json')
            .then(response => response.json())
            .then(data => {
                displayThemes(data.themes);
            })
            .catch(error => {
                console.error('Erreur lors du chargement des donn√©es:', error);
                document.getElementById('themesGrid').innerHTML = 
                    '<p style="color: var(--rouge-corail);">Erreur lors du chargement des th√®mes. V√©rifiez le fichier data.json</p>';
            });

        function displayThemes(themes) {
            const grid = document.getElementById('themesGrid');
            
            // Afficher les th√®mes existants
            themes.forEach(theme => {
                const card = document.createElement('div');
                card.className = 'theme-card';
                card.onclick = () => window.location.href = `theme.html?id=${theme.id}`;
                
                const count = theme.maquettes ? theme.maquettes.length : 0;
                
                card.innerHTML = `
                    <h3>${theme.nom}</h3>
                    <p style="color: var(--gris-texte); margin-bottom: 1rem; font-size: 0.9rem;">
                        ${theme.description}
                    </p>
                    <p class="count">
                        <strong>${count}</strong> maquette${count > 1 ? 's' : ''}
                    </p>
                `;
                
                grid.appendChild(card);
            });
            
            // Ajouter la carte "Ajouter un th√®me"
            const addCard = document.createElement('div');
            addCard.className = 'theme-card add-theme-card';
            addCard.onclick = showAddThemeInstructions;
            addCard.innerHTML = `
                <div class="icon">+</div>
                <h3>Ajouter un th√®me</h3>
            `;
            
            grid.appendChild(addCard);
        }

        function showAddThemeInstructions() {
            alert(`Pour ajouter un nouveau th√®me :

1. Ouvre le fichier data.json
2. Ajoute un nouvel objet dans le tableau "themes" :

{
  "id": "mon-theme",
  "nom": "Mon nouveau th√®me",
  "description": "Description du th√®me",
  "maquettes": []
}

3. Cr√©e un dossier maquettes/mon-theme/
4. Commit et push sur GitHub`);
        }
    </script>
</body>
</html>
